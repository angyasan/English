<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>å˜èªå¸³</title>
  <style>
    body { font-family: -apple-system, sans-serif; padding: 20px; max-width: 480px; margin: auto; }
    h2 { margin-bottom: 15px; }
    .tabs { display: flex; margin-bottom: 10px; }
    .tab-btn {
      flex: 1;
      padding: 10px 0;
      cursor: pointer;
      border: 1px solid #ccc;
      background: #f9f9f9;
      text-align: center;
      font-weight: bold;
      user-select: none;
      transition: background-color 0.3s;
    }
    .tab-btn.active {
      background-color: #007bff;
      color: white;
      border-color: #007bff;
    }
    .control-buttons {
      display: flex;
      gap: 8px;
      margin-bottom: 15px;
      user-select: none;
    }
    .control-btn {
      cursor: pointer;
      background-color: #eee;
      border: 1px solid #ccc;
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 14px;
      transition: background-color 0.2s;
    }
    .control-btn:hover {
      background-color: #ddd;
    }
    .entry {
      margin-bottom: 18px;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
      cursor: pointer;
      user-select: none;
    }
    .jp {
      font-size: 18px;
      color: #333;
      white-space: pre-line;
    }
    .details {
      display: none;
      margin-top: 6px;
      color: #555;
      font-size: 16px;
      display: flex;
      gap: 12px;
      align-items: center;
      user-select: text;
    }
    .en {
      font-weight: bold;
      font-size: 17px;
    }
    .kana {
      color: #666;
      font-size: 15px;
    }
    .play-btn {
      margin-left: auto;
      cursor: pointer;
      border: none;
      background: transparent;
      font-size: 20px;
      user-select: none;
      color: #007bff;
      transition: color 0.2s;
    }
    .play-btn:hover {
      color: #0056b3;
    }
  </style>
</head>
<body>

  <h2>ğŸ“˜ å˜èªå¸³</h2>

  <div class="tabs">
    <div class="tab-btn active" data-type="verbs">å‹•è©</div>
    <div class="tab-btn" data-type="nouns">åè©</div>
    <div class="tab-btn" data-type="adverbs">å‰¯è©</div>
    <div class="tab-btn" data-type="adjectives">å½¢å®¹è©</div>
  </div>

  <div id="controls" class="control-buttons">
    <button class="control-btn" id="shuffleBtn">ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
    <button class="control-btn" id="resetBtn">å…ƒã«æˆ»ã™</button>
  </div>

  <div id="content"></div>

<script>
  // å…ƒãƒ‡ãƒ¼ã‚¿
  const originalData = {
    verbs: [
      {jp:"ã€œã§ã‚ã‚‹/ã„ã‚‹", en:"be", reading:"biË"},
      {jp:"æŒã£ã¦ãã‚‹", en:"bring", reading:"brÉªÅ‹"},
      {jp:"å›ã™", en:"turn", reading:"tÉœËrn"},
      {jp:"ã€œã«ãªã‚‹", en:"become", reading:"bÉªËˆkÊŒm"},
      {jp:"æŒã£ã¦ã„ã", en:"take", reading:"teÉªk"},
      {jp:"é‹ã¶", en:"carry", reading:"ËˆkÃ¦ri"},
      {jp:"ç›®ãŒè¦šã‚ã‚‹", en:"wake up", reading:"weÉªk ÊŒp"},
      {jp:"èµ·ãä¸ŠãŒã‚‹", en:"get up", reading:"É¡et ÊŒp"},
      {jp:"å¢—ãˆã‚‹", en:"increase", reading:"ËˆÉªnkriËs"},
      {jp:"æ¸›ã‚‹", en:"decrease", reading:"ËˆdiËkriËs"},
      {jp:"æ¸›ã‚‰ã™", en:"reduce", reading:"rÉªËˆduËs"},
    ],
    nouns: [
      {jp:"ä¸¡è¦ª", en:"parent", reading:"ËˆpÉ›rÉ™nt"},
      {jp:"å§‰", en:"elder (older) sister", reading:"ËˆÉ›ldÉ™r ËˆsÉªstÉ™r"},
      {jp:"å¦¹", en:"younger sister", reading:"ËˆjÊŒÅ‹É¡É™r ËˆsÉªstÉ™r"},
      {jp:"å…„", en:"elder (older) brother", reading:"ËˆÉ›ldÉ™r ËˆbrÊŒÃ°É™r"},
      {jp:"å¼Ÿ", en:"younger brother", reading:"ËˆjÊŒÅ‹É¡É™r ËˆbrÊŒÃ°É™r"},
      {jp:"å¤«", en:"husband", reading:"ËˆhÊŒzbÉ™nd"},
      {jp:"å¦»", en:"wife", reading:"waÉªf"},
      {jp:"å¨˜", en:"daughter", reading:"ËˆdÉ”ËtÉ™r"},
      {jp:"æ¯å­", en:"son", reading:"sÊŒn"},
      {jp:"ä¸€äººã£å­", en:"only child", reading:"ËˆoÊŠnli tÊƒaÉªld"},
    ],
    adverbs: [
      {jp:"ã„ã¤ã‚‚", en:"always", reading:"ËˆÉ”ËlweÉªz"},
      {jp:"æ™®æ®µ", en:"usually", reading:"ËˆjuËÊ’uÉ™li"},
      {jp:"ã‚ˆã", en:"often", reading:"ËˆÉ”ËfÉ™n"},
      {jp:"æ™‚ã€…", en:"sometimes", reading:"ËˆsÊŒmtaÉªmz"},
      {jp:"ãŸã¾ã«", en:"occasionally", reading:"É™ËˆkeÉªÊ’É™nÉ™li"},
      {jp:"æ±ºã—ã¦ãªã„", en:"never", reading:"ËˆnÉ›vÉ™r"},
      {jp:"æ—¢ã«", en:"already", reading:"É”ËlËˆrÉ›di"},
    ],
    adjectives: [
      {jp:"åšã„", en:"thick", reading:"Î¸Éªk"},
      {jp:"è–„ã„ã€ç´°ã„", en:"thin", reading:"Î¸Éªn"},
      {jp:"å¥‡å¦™ãª", en:"strange", reading:"streÉªndÊ’"},
      {jp:"å¿…è¦ãª", en:"necessary", reading:"ËˆnÉ›sÉ™sÉ›ri"},
      {jp:"é¨’ãŒã—ã„", en:"noisy", reading:"ËˆnÉ”Éªzi"},
      {jp:"é™ã‹", en:"quiet", reading:"ËˆkwaÉªÉ™t"},
    ],
  };

  // ç¾åœ¨ã®ãƒªã‚¹ãƒˆï¼ˆã‚·ãƒ£ãƒƒãƒ•ãƒ«çŠ¶æ…‹ã‚’ä¿æŒï¼‰
  const currentList = {
    verbs: [...originalData.verbs],
    nouns: [...originalData.nouns],
    adverbs: [...originalData.adverbs],
    adjectives: [...originalData.adjectives],
  };

  const contentDiv = document.getElementById("content");
  const tabButtons = document.querySelectorAll(".tab-btn");
  const shuffleBtn = document.getElementById("shuffleBtn");
  const resetBtn = document.getElementById("resetBtn");

  let currentType = "verbs";

  function shuffleArray(arr) {
    const a = arr.slice();
    for(let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  function playSound(word) {
    const url = `https://ssl.gstatic.com/dictionary/static/sounds/20200429/${word.toLowerCase()}--_us_1.mp3`;
    const audio = new Audio(url);
    audio.play().catch(() => {});
  }

  function renderList(type) {
    contentDiv.innerHTML = "";
    currentList[type].forEach(item => {
      const entry = document.createElement("div");
      entry.className = "entry";

      const jpDiv = document.createElement("div");
      jpDiv.className = "jp";
      jpDiv.textContent = item.jp;

      const detailsDiv = document.createElement("div");
      detailsDiv.className = "details";

      const enSpan = document.createElement("span");
      enSpan.className = "en";
      enSpan.textContent = item.en;

      const kanaSpan = document.createElement("span");
      kanaSpan.className = "kana";
      if(item.reading) kanaSpan.textContent = item.reading;

      const playBtn = document.createElement("button");
      playBtn.className = "play-btn";
      playBtn.textContent = "â–¶ï¸";
      playBtn.title = `ç™ºéŸ³å†ç”Ÿ: ${item.en}`;
      playBtn.onclick = (e) => {
        e.stopPropagation();
        playSound(item.en);
      };

      detailsDiv.appendChild(enSpan);
      if(item.reading) detailsDiv.appendChild(kanaSpan);
      detailsDiv.appendChild(playBtn);

      entry.appendChild(jpDiv);
      entry.appendChild(detailsDiv);

      detailsDiv.style.display = "none";

      jpDiv.addEventListener("click", () => {
        detailsDiv.style.display = (detailsDiv.style.display === "flex") ? "none" : "flex";
      });

      contentDiv.appendChild(entry);
    });
  }

  // åˆæœŸè¡¨ç¤º
  renderList(currentType);

  tabButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      tabButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      currentType = btn.getAttribute("data-type");
      renderList(currentType);
    });
  });

  shuffleBtn.addEventListener("click", () => {
    currentList[currentType] = shuffleArray(originalData[currentType]);
    renderList(currentType);
  });

  resetBtn.addEventListener("click", () => {
    currentList[currentType] = [...originalData[currentType]];
    renderList(currentType);
  });

</script>

</body>
</html>
